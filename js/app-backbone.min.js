var app=null,appleData=[{name:"fuji",url:"img/fuji.jpg"},{name:"gala",url:"img/gala.jpg"}],router=Backbone.Router.extend({routes:{"":"home","apples/:appleName":"loadApple"},initialize:function(){var e=new Apples;e.reset(appleData),this.homeView=new homeView({collection:e}),this.appleView=new appleView({collection:e})},home:function(){this.homeView.render()},loadApple:function(e){this.appleView.loadApple(e)}}),homeView=Backbone.View.extend({el:"body",template:_.template("Apple data:<%=data%>."),render:function(){this.$el.html(this.template({data:JSON.stringify(this.collection.models)}))}}),Apples=Backbone.Collection.extend({}),appleView=Backbone.View.extend({initialize:function(){},template:_.template('<figure>	<img src="<%=attributes.url%>"/>	<figcaption><%=attributes.name%><figcaption></figure>'),render:function(e){var t=this.collection.where({name:e})[0],a=this.template(t);$("body").html(a)}});$(function(){app=new router,Backbone.history.start()});